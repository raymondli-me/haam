<!DOCTYPE html>
<html>
<head>
    <title>Codebase Structure Analysis</title>
    <meta charset="utf-8">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            margin: 0;
            padding: 0;
            background: #f5f5f5;
        }
        #container {
            display: flex;
            height: 100vh;
        }
        #cy {
            flex: 1;
            background: white;
            border: 1px solid #ddd;
        }
        #sidebar {
            width: 380px;
            padding: 20px;
            background: #fff;
            border-left: 1px solid #ddd;
            overflow-y: auto;
            box-shadow: -2px 0 5px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            font-size: 24px;
            margin-bottom: 10px;
        }
        .stats {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .stat-row {
            display: flex;
            justify-content: space-between;
            margin: 8px 0;
        }
        .stat-value {
            font-weight: bold;
            color: #0066cc;
        }
        button {
            display: inline-block;
            padding: 8px 16px;
            margin: 2px;
            background: #0066cc;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background: #0052a3;
        }
        .controls {
            margin-bottom: 20px;
        }
        .node-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        h3 {
            margin-top: 20px;
            margin-bottom: 10px;
            color: #333;
        }
        #search-box {
            width: 100%;
            padding: 8px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        .legend {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin: 8px 0;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            border-radius: 3px;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.26.0/cytoscape.min.js"></script>
</head>
<body>
    <div id="container">
        <div id="cy"></div>
        <div id="sidebar">
            <h1>Codebase Structure</h1>
            <p>Generated: 2025-08-17 18:00:41</p>
            
            <input type="text" id="search-box" placeholder="Search files..." />
            
            <div class="stats">
                <h3>Statistics</h3>
                <div class="stat-row">
                    <span>Total Files:</span>
                    <span class="stat-value">34</span>
                </div>
                <div class="stat-row">
                    <span>Total Lines:</span>
                    <span class="stat-value">16,503</span>
                </div>
                <div class="stat-row">
                    <span>Import Links:</span>
                    <span class="stat-value">22</span>
                </div>
                <div class="stat-row">
                    <span>Orphan Files:</span>
                    <span class="stat-value">15</span>
                </div>
                <div class="stat-row">
                    <span>Hub Files:</span>
                    <span class="stat-value">3</span>
                </div>
                <div class="stat-row">
                    <span>Avg Connections:</span>
                    <span class="stat-value">1.3</span>
                </div>
            </div>
            
            <div class="controls">
                <h3>Layout</h3>
                <button onclick="applyLayout('cose')">Force-Directed</button>
                <button onclick="applyLayout('breadthfirst')">Hierarchy</button>
                <button onclick="applyLayout('circle')">Circle</button>
                <button onclick="applyLayout('grid')">Grid</button>
                
                <h3>Highlight</h3>
                <button onclick="highlightType('module')">Modules</button>
                <button onclick="highlightType('test')">Tests</button>
                <button onclick="highlightType('package')">Packages</button>
                <button onclick="highlightOrphans()">Orphans</button>
                <button onclick="highlightHubs()">Hubs</button>
                <button onclick="resetHighlight()">Reset</button>
            </div>
            
            <div class="node-info" id="node-info">
                <h3>Node Details</h3>
                <p>Click on a node to see details</p>
            </div>
            
            <div class="legend">
                <h3>Legend</h3>
                <div class="legend-item">
                    <div class="legend-color" style="background:#3498db;"></div>
                    <span>Module</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background:#2ecc71;"></div>
                    <span>Script</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background:#f39c12;"></div>
                    <span>Test</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background:#9b59b6;"></div>
                    <span>Package</span>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const graphData = {"nodes": [{"data": {"id": "analyze_codebase_better", "label": "analyze_codebase_better.py", "path": "analyze_codebase_better.py", "module_path": "analyze_codebase_better", "type": "script", "lines": 895, "functions": 19, "classes": 1, "complexity": 68, "color": "#2ecc71", "in_degree": 0, "out_degree": 0, "total_degree": 0}}, {"data": {"id": "analyze_codebase_final", "label": "analyze_codebase_final.py", "path": "analyze_codebase_final.py", "module_path": "analyze_codebase_final", "type": "script", "lines": 516, "functions": 14, "classes": 1, "complexity": 62, "color": "#2ecc71", "in_degree": 0, "out_degree": 0, "total_degree": 0}}, {"data": {"id": "codebase_analyzer_complete", "label": "codebase_analyzer_complete.py", "path": "codebase_analyzer_complete.py", "module_path": "codebase_analyzer_complete", "type": "script", "lines": 810, "functions": 16, "classes": 1, "complexity": 72, "color": "#2ecc71", "in_degree": 0, "out_degree": 0, "total_degree": 0}}, {"data": {"id": "colab_cell_criterion_ranking", "label": "colab_cell_criterion_ranking.py", "path": "colab_cell_criterion_ranking.py", "module_path": "colab_cell_criterion_ranking", "type": "script", "lines": 32, "functions": 0, "classes": 0, "complexity": 1, "color": "#2ecc71", "in_degree": 0, "out_degree": 0, "total_degree": 0}}, {"data": {"id": "docs__build_html__downloads_38e3beb89e3ed9562e313548c891e85b_wordcloud_validity_example", "label": "wordcloud_validity_example.py", "path": "docs/_build/html/_downloads/38e3beb89e3ed9562e313548c891e85b/wordcloud_validity_example.py", "module_path": "docs._build.html._downloads.38e3beb89e3ed9562e313548c891e85b.wordcloud_validity_example", "type": "example", "lines": 186, "functions": 0, "classes": 0, "complexity": 11, "color": "#95a5a6", "in_degree": 0, "out_degree": 1, "total_degree": 1}}, {"data": {"id": "docs_conf", "label": "conf.py", "path": "docs/conf.py", "module_path": "docs.conf", "type": "module", "lines": 90, "functions": 0, "classes": 0, "complexity": 1, "color": "#3498db", "in_degree": 0, "out_degree": 0, "total_degree": 0}}, {"data": {"id": "examples_3d_pca_arrow_example", "label": "3d_pca_arrow_example.py", "path": "examples/3d_pca_arrow_example.py", "module_path": "examples.3d_pca_arrow_example", "type": "example", "lines": 273, "functions": 8, "classes": 0, "complexity": 6, "color": "#95a5a6", "in_degree": 0, "out_degree": 1, "total_degree": 1}}, {"data": {"id": "examples_pc_umap_visualization_example", "label": "pc_umap_visualization_example.py", "path": "examples/pc_umap_visualization_example.py", "module_path": "examples.pc_umap_visualization_example", "type": "example", "lines": 212, "functions": 5, "classes": 0, "complexity": 10, "color": "#95a5a6", "in_degree": 0, "out_degree": 1, "total_degree": 1}}, {"data": {"id": "examples_ranking_methods_example", "label": "ranking_methods_example.py", "path": "examples/ranking_methods_example.py", "module_path": "examples.ranking_methods_example", "type": "example", "lines": 63, "functions": 0, "classes": 0, "complexity": 1, "color": "#95a5a6", "in_degree": 0, "out_degree": 1, "total_degree": 1}}, {"data": {"id": "examples_simple_example", "label": "simple_example.py", "path": "examples/simple_example.py", "module_path": "examples.simple_example", "type": "example", "lines": 55, "functions": 0, "classes": 0, "complexity": 1, "color": "#95a5a6", "in_degree": 0, "out_degree": 1, "total_degree": 1}}, {"data": {"id": "examples_wordcloud_example", "label": "wordcloud_example.py", "path": "examples/wordcloud_example.py", "module_path": "examples.wordcloud_example", "type": "example", "lines": 216, "functions": 6, "classes": 0, "complexity": 6, "color": "#95a5a6", "in_degree": 0, "out_degree": 1, "total_degree": 1}}, {"data": {"id": "examples_wordcloud_validity_example", "label": "wordcloud_validity_example.py", "path": "examples/wordcloud_validity_example.py", "module_path": "examples.wordcloud_validity_example", "type": "example", "lines": 186, "functions": 0, "classes": 0, "complexity": 11, "color": "#95a5a6", "in_degree": 0, "out_degree": 1, "total_degree": 1}}, {"data": {"id": "generate_codebase_viz", "label": "generate_codebase_viz.py", "path": "generate_codebase_viz.py", "module_path": "generate_codebase_viz", "type": "script", "lines": 606, "functions": 9, "classes": 1, "complexity": 44, "color": "#2ecc71", "in_degree": 0, "out_degree": 0, "total_degree": 0}}, {"data": {"id": "generate_wordclouds_validity_nvembed", "label": "generate_wordclouds_validity_nvembed.py", "path": "generate_wordclouds_validity_nvembed.py", "module_path": "generate_wordclouds_validity_nvembed", "type": "script", "lines": 371, "functions": 0, "classes": 0, "complexity": 0, "color": "#2ecc71", "in_degree": 0, "out_degree": 0, "total_degree": 0}}, {"data": {"id": "haam___init__", "label": "__init__.py", "path": "haam/__init__.py", "module_path": "haam", "type": "package", "lines": 11, "functions": 0, "classes": 0, "complexity": 1, "color": "#9b59b6", "in_degree": 9, "out_degree": 6, "total_degree": 15}}, {"data": {"id": "haam_haam_bws", "label": "haam_bws.py", "path": "haam/haam_bws.py", "module_path": "haam.haam_bws", "type": "module", "lines": 352, "functions": 11, "classes": 1, "complexity": 26, "color": "#3498db", "in_degree": 1, "out_degree": 0, "total_degree": 1}}, {"data": {"id": "haam_haam_init", "label": "haam_init.py", "path": "haam/haam_init.py", "module_path": "haam.haam_init", "type": "module", "lines": 1040, "functions": 20, "classes": 1, "complexity": 57, "color": "#3498db", "in_degree": 1, "out_degree": 4, "total_degree": 5}}, {"data": {"id": "haam_haam_package", "label": "haam_package.py", "path": "haam/haam_package.py", "module_path": "haam.haam_package", "type": "module", "lines": 1738, "functions": 23, "classes": 1, "complexity": 169, "color": "#3498db", "in_degree": 5, "out_degree": 0, "total_degree": 5}}, {"data": {"id": "haam_haam_setup", "label": "haam_setup.py", "path": "haam/haam_setup.py", "module_path": "haam.haam_setup", "type": "module", "lines": 232, "functions": 0, "classes": 0, "complexity": 1, "color": "#3498db", "in_degree": 0, "out_degree": 0, "total_degree": 0}}, {"data": {"id": "haam_haam_topics", "label": "haam_topics.py", "path": "haam/haam_topics.py", "module_path": "haam.haam_topics", "type": "module", "lines": 351, "functions": 6, "classes": 1, "complexity": 14, "color": "#3498db", "in_degree": 2, "out_degree": 0, "total_degree": 2}}, {"data": {"id": "haam_haam_visualizations", "label": "haam_visualizations.py", "path": "haam/haam_visualizations.py", "module_path": "haam.haam_visualizations", "type": "module", "lines": 2404, "functions": 16, "classes": 2, "complexity": 203, "color": "#3498db", "in_degree": 2, "out_degree": 0, "total_degree": 2}}, {"data": {"id": "haam_haam_visualizations_backup", "label": "haam_visualizations_backup.py", "path": "haam/haam_visualizations_backup.py", "module_path": "haam.haam_visualizations_backup", "type": "module", "lines": 2212, "functions": 16, "classes": 2, "complexity": 147, "color": "#3498db", "in_degree": 0, "out_degree": 0, "total_degree": 0}}, {"data": {"id": "haam_haam_wordcloud", "label": "haam_wordcloud.py", "path": "haam/haam_wordcloud.py", "module_path": "haam.haam_wordcloud", "type": "module", "lines": 819, "functions": 11, "classes": 1, "complexity": 104, "color": "#3498db", "in_degree": 2, "out_degree": 0, "total_degree": 2}}, {"data": {"id": "haam_haam_wordcloud_backup", "label": "haam_wordcloud_backup.py", "path": "haam/haam_wordcloud_backup.py", "module_path": "haam.haam_wordcloud_backup", "type": "module", "lines": 658, "functions": 10, "classes": 1, "complexity": 58, "color": "#3498db", "in_degree": 0, "out_degree": 0, "total_degree": 0}}, {"data": {"id": "haam_wordcloud_aligned_patch", "label": "haam_wordcloud_aligned_patch.py", "path": "haam_wordcloud_aligned_patch.py", "module_path": "haam_wordcloud_aligned_patch", "type": "script", "lines": 398, "functions": 2, "classes": 0, "complexity": 44, "color": "#2ecc71", "in_degree": 0, "out_degree": 0, "total_degree": 0}}, {"data": {"id": "setup", "label": "setup.py", "path": "setup.py", "module_path": "setup", "type": "setup", "lines": 64, "functions": 0, "classes": 0, "complexity": 2, "color": "#e74c3c", "in_degree": 0, "out_degree": 0, "total_degree": 0}}, {"data": {"id": "test_display", "label": "test_display.py", "path": "test_display.py", "module_path": "test_display", "type": "test", "lines": 24, "functions": 0, "classes": 0, "complexity": 1, "color": "#f39c12", "in_degree": 0, "out_degree": 1, "total_degree": 1}}, {"data": {"id": "test_display_direct", "label": "test_display_direct.py", "path": "test_display_direct.py", "module_path": "test_display_direct", "type": "test", "lines": 39, "functions": 0, "classes": 0, "complexity": 1, "color": "#f39c12", "in_degree": 0, "out_degree": 1, "total_degree": 1}}, {"data": {"id": "test_final_verification", "label": "test_final_verification.py", "path": "test_final_verification.py", "module_path": "test_final_verification", "type": "test", "lines": 43, "functions": 0, "classes": 0, "complexity": 2, "color": "#f39c12", "in_degree": 0, "out_degree": 1, "total_degree": 1}}, {"data": {"id": "test_model_outputs", "label": "test_model_outputs.py", "path": "test_model_outputs.py", "module_path": "test_model_outputs", "type": "test", "lines": 72, "functions": 0, "classes": 0, "complexity": 2, "color": "#f39c12", "in_degree": 0, "out_degree": 1, "total_degree": 1}}, {"data": {"id": "test_validity_coloring", "label": "test_validity_coloring.py", "path": "test_validity_coloring.py", "module_path": "test_validity_coloring", "type": "test", "lines": 88, "functions": 0, "classes": 0, "complexity": 6, "color": "#f39c12", "in_degree": 0, "out_degree": 1, "total_degree": 1}}, {"data": {"id": "visualize_codebase", "label": "visualize_codebase.py", "path": "visualize_codebase.py", "module_path": "visualize_codebase", "type": "script", "lines": 684, "functions": 12, "classes": 1, "complexity": 35, "color": "#2ecc71", "in_degree": 0, "out_degree": 0, "total_degree": 0}}, {"data": {"id": "visualize_codebase_clean", "label": "visualize_codebase_clean.py", "path": "visualize_codebase_clean.py", "module_path": "visualize_codebase_clean", "type": "script", "lines": 445, "functions": 3, "classes": 0, "complexity": 25, "color": "#2ecc71", "in_degree": 0, "out_degree": 0, "total_degree": 0}}, {"data": {"id": "visualize_codebase_simple", "label": "visualize_codebase_simple.py", "path": "visualize_codebase_simple.py", "module_path": "visualize_codebase_simple", "type": "script", "lines": 318, "functions": 2, "classes": 0, "complexity": 24, "color": "#2ecc71", "in_degree": 0, "out_degree": 0, "total_degree": 0}}], "edges": [{"data": {"id": "docs__build_html__downloads_38e3beb89e3ed9562e313548c891e85b_wordcloud_validity_example_to_haam___init___from_import", "source": "docs__build_html__downloads_38e3beb89e3ed9562e313548c891e85b_wordcloud_validity_example", "target": "haam___init__", "type": "from_import"}}, {"data": {"id": "examples_3d_pca_arrow_example_to_haam___init___from_import", "source": "examples_3d_pca_arrow_example", "target": "haam___init__", "type": "from_import"}}, {"data": {"id": "examples_pc_umap_visualization_example_to_haam___init___from_import", "source": "examples_pc_umap_visualization_example", "target": "haam___init__", "type": "from_import"}}, {"data": {"id": "examples_ranking_methods_example_to_haam___init___from_import", "source": "examples_ranking_methods_example", "target": "haam___init__", "type": "from_import"}}, {"data": {"id": "examples_simple_example_to_haam___init___from_import", "source": "examples_simple_example", "target": "haam___init__", "type": "from_import"}}, {"data": {"id": "examples_wordcloud_example_to_haam___init___from_import", "source": "examples_wordcloud_example", "target": "haam___init__", "type": "from_import"}}, {"data": {"id": "examples_wordcloud_validity_example_to_haam___init___from_import", "source": "examples_wordcloud_validity_example", "target": "haam___init__", "type": "from_import"}}, {"data": {"id": "haam___init___to_haam_haam_init_relative_import", "source": "haam___init__", "target": "haam_haam_init", "type": "relative_import"}}, {"data": {"id": "haam___init___to_haam_haam_package_relative_import", "source": "haam___init__", "target": "haam_haam_package", "type": "relative_import"}}, {"data": {"id": "haam___init___to_haam_haam_topics_relative_import", "source": "haam___init__", "target": "haam_haam_topics", "type": "relative_import"}}, {"data": {"id": "haam___init___to_haam_haam_visualizations_relative_import", "source": "haam___init__", "target": "haam_haam_visualizations", "type": "relative_import"}}, {"data": {"id": "haam___init___to_haam_haam_wordcloud_relative_import", "source": "haam___init__", "target": "haam_haam_wordcloud", "type": "relative_import"}}, {"data": {"id": "haam___init___to_haam_haam_bws_relative_import", "source": "haam___init__", "target": "haam_haam_bws", "type": "relative_import"}}, {"data": {"id": "haam_haam_init_to_haam_haam_package_relative_import", "source": "haam_haam_init", "target": "haam_haam_package", "type": "relative_import"}}, {"data": {"id": "haam_haam_init_to_haam_haam_topics_relative_import", "source": "haam_haam_init", "target": "haam_haam_topics", "type": "relative_import"}}, {"data": {"id": "haam_haam_init_to_haam_haam_visualizations_relative_import", "source": "haam_haam_init", "target": "haam_haam_visualizations", "type": "relative_import"}}, {"data": {"id": "haam_haam_init_to_haam_haam_wordcloud_relative_import", "source": "haam_haam_init", "target": "haam_haam_wordcloud", "type": "relative_import"}}, {"data": {"id": "test_display_to_haam___init___from_import", "source": "test_display", "target": "haam___init__", "type": "from_import"}}, {"data": {"id": "test_display_direct_to_haam_haam_package_from_import", "source": "test_display_direct", "target": "haam_haam_package", "type": "from_import"}}, {"data": {"id": "test_final_verification_to_haam_haam_package_from_import", "source": "test_final_verification", "target": "haam_haam_package", "type": "from_import"}}, {"data": {"id": "test_model_outputs_to_haam_haam_package_from_import", "source": "test_model_outputs", "target": "haam_haam_package", "type": "from_import"}}, {"data": {"id": "test_validity_coloring_to_haam___init___from_import", "source": "test_validity_coloring", "target": "haam___init__", "type": "from_import"}}], "stats": {"total_lines": 16503, "total_functions": 209, "total_classes": 15, "script_count": 10, "example_count": 7, "module_count": 10, "package_count": 1, "setup_count": 1, "test_count": 5, "from_imports": 12, "relative_imports": 10, "total_nodes": 34, "total_edges": 22, "orphan_nodes": 15, "hub_nodes": 3, "avg_degree": 1.2941176470588236}};
        
        console.log('Loading graph with', graphData.nodes.length, 'nodes and', graphData.edges.length, 'edges');
        
        // Initialize Cytoscape
        const cy = cytoscape({
            container: document.getElementById('cy'),
            elements: {
                nodes: graphData.nodes,
                edges: graphData.edges
            },
            style: [
                {
                    selector: 'node',
                    style: {
                        'label': 'data(label)',
                        'background-color': 'data(color)',
                        'width': ele => Math.max(30, Math.min(80, 30 + Math.sqrt(ele.data('lines') || 50))),
                        'height': ele => Math.max(30, Math.min(80, 30 + Math.sqrt(ele.data('lines') || 50))),
                        'text-valign': 'center',
                        'text-halign': 'center',
                        'font-size': '10px',
                        'text-outline-width': 2,
                        'text-outline-color': '#fff'
                    }
                },
                {
                    selector: 'edge',
                    style: {
                        'width': 2,
                        'line-color': '#999',
                        'target-arrow-color': '#999',
                        'target-arrow-shape': 'triangle',
                        'curve-style': 'bezier',
                        'opacity': 0.7
                    }
                },
                {
                    selector: '.highlighted',
                    style: {
                        'background-color': '#ff6b6b',
                        'line-color': '#ff6b6b',
                        'target-arrow-color': '#ff6b6b',
                        'z-index': 999
                    }
                },
                {
                    selector: '.dimmed',
                    style: {
                        'opacity': 0.2
                    }
                }
            ],
            layout: {
                name: 'cose',
                animate: true,
                animationDuration: 1000,
                nodeRepulsion: 5000,
                idealEdgeLength: 100,
                edgeElasticity: 100,
                nestingFactor: 5,
                gravity: 80,
                numIter: 1000,
                initialTemp: 200,
                coolingFactor: 0.95,
                minTemp: 1.0
            }
        });
        
        // Node click handler
        cy.on('tap', 'node', function(evt) {
            const node = evt.target;
            const data = node.data();
            
            const imports = cy.edges(`[source = "${data.id}"]`).length;
            const importedBy = cy.edges(`[target = "${data.id}"]`).length;
            
            document.getElementById('node-info').innerHTML = `
                <h3>${data.label}</h3>
                <p><strong>Type:</strong> ${data.type}</p>
                <p><strong>Path:</strong> ${data.path}</p>
                <p><strong>Lines:</strong> ${data.lines || 0}</p>
                <p><strong>Functions:</strong> ${data.functions || 0}</p>
                <p><strong>Classes:</strong> ${data.classes || 0}</p>
                <p><strong>Complexity:</strong> ${data.complexity || 0}</p>
                <p><strong>Imports:</strong> ${imports} modules</p>
                <p><strong>Imported by:</strong> ${importedBy} modules</p>
            `;
        });
        
        // Search functionality
        document.getElementById('search-box').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            
            cy.elements().removeClass('highlighted dimmed');
            
            if (searchTerm) {
                cy.elements().addClass('dimmed');
                cy.nodes().forEach(node => {
                    if (node.data('label').toLowerCase().includes(searchTerm) ||
                        node.data('path').toLowerCase().includes(searchTerm)) {
                        node.removeClass('dimmed').addClass('highlighted');
                        node.connectedEdges().removeClass('dimmed');
                    }
                });
            }
        });
        
        // Layout functions
        function applyLayout(layoutName) {
            const layouts = {
                'cose': {
                    name: 'cose',
                    animate: true,
                    nodeRepulsion: 5000,
                    idealEdgeLength: 100
                },
                'breadthfirst': {
                    name: 'breadthfirst',
                    directed: true,
                    spacingFactor: 1.5,
                    animate: true
                },
                'circle': {
                    name: 'circle',
                    animate: true
                },
                'grid': {
                    name: 'grid',
                    animate: true,
                    padding: 30
                }
            };
            
            cy.layout(layouts[layoutName]).run();
        }
        
        // Highlight functions
        function highlightType(type) {
            cy.elements().removeClass('highlighted dimmed');
            cy.elements().addClass('dimmed');
            cy.nodes(`[type = "${type}"]`).removeClass('dimmed').addClass('highlighted');
            cy.nodes(`[type = "${type}"]`).connectedEdges().removeClass('dimmed');
        }
        
        function highlightOrphans() {
            cy.elements().removeClass('highlighted dimmed');
            cy.elements().addClass('dimmed');
            cy.nodes().filter(n => n.degree() === 0).removeClass('dimmed').addClass('highlighted');
        }
        
        function highlightHubs() {
            cy.elements().removeClass('highlighted dimmed');
            cy.elements().addClass('dimmed');
            cy.nodes().filter(n => n.degree() >= 5).removeClass('dimmed').addClass('highlighted');
            cy.nodes().filter(n => n.degree() >= 5).connectedEdges().removeClass('dimmed');
        }
        
        function resetHighlight() {
            cy.elements().removeClass('highlighted dimmed');
        }
    </script>
</body>
</html>